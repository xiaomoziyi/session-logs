# Debugging 反思

## 2026-01-19 - 正面回答问题，不要盲目修改

**场景**: 在 debug 授权金额计算时，授权金额显示为 100TBA，但用户询问是怎么计算出来的

**问题**: 没有正面回答问题，而是直接尝试修改代码

**解决方案**:
1. 先追踪计算逻辑，找出 100TBA 是如何得出的
2. 明确说明计算过程和每一步的数值
3. 确认真正的 bug 位置后再修改

**教训**:
- 不要盲目修改代码，先 debug 找到真正原因
- 正面回答用户的问题，用户问"怎么计算的"就要给出计算过程
- 如果有重复逻辑可以抽取，但前提是计算逻辑本身是正确的

**标签**: debugging, communication, root-cause-analysis

---

## 2026-01-19 - 改动原有逻辑前必须说明原因

**场景**: 在修改滑点计算逻辑时，涉及到 quote-service 的 decimals 修改

**问题**: 未经确认就准备修改原有逻辑

**解决方案**:
1. 在改动所有原有逻辑时先向用户说明原因
2. 在用户确认后再进行调整
3. 这些方法论可以沉淀到 xiaofang skill 里

**教训**:
- 改动原有逻辑是危险操作，需要先获得确认
- 说明修改的原因、影响范围、预期结果
- 形成规范化的工作流程

**标签**: debugging, code-change, communication

---
