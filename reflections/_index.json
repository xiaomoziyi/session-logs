{
  "last_updated": "2026-01-26T15:00:00Z",
  "entries": [
    {
      "id": "ref-2026-01-26-001",
      "date": "2026-01-26",
      "title": "汇率滑点导致 Invoice 收款失败",
      "summary": "汇率低于滑点下限时系统跳过收款，需提前通知、说明原因、支持手动付款",
      "topics": ["payment", "invoice", "slippage"],
      "projects": ["payment-kit"],
      "keywords": ["invoice", "slippage", "payment-failure", "min_acceptable_rate", "uncollectible"],
      "file": "by-project/payment-kit.md"
    },
    {
      "id": "ref-2026-01-26-002",
      "date": "2026-01-26",
      "title": "自动化优于手动",
      "summary": "定时任务 + AI 分析实现自动工作总结，工具应适应用户而非相反",
      "topics": ["workflow", "automation"],
      "projects": ["claude-code"],
      "keywords": ["launchagent", "automation", "work-session", "定时任务"],
      "file": "by-topic/workflow.md"
    },
    {
      "id": "ref-2026-01-23-001",
      "date": "2026-01-23",
      "title": "支付金额 vs 授权金额的区分",
      "summary": "currentPaymentTotal 用于判断是否需要支付，fastCheckoutAmount 用于检查委托额度",
      "topics": ["payment", "subscription"],
      "projects": ["payment-kit"],
      "keywords": ["trial", "fast-checkout", "noPaymentRequired", "getFastCheckoutAmount"],
      "file": "by-project/payment-kit.md"
    },
    {
      "id": "ref-2026-01-23-002",
      "date": "2026-01-23",
      "title": "事件监听器的错误隔离",
      "summary": "相互独立的逻辑应使用独立的事件监听器，避免级联错误",
      "topics": ["architecture", "events"],
      "projects": ["payment-kit"],
      "keywords": ["events.on", "error-handling", "invoice.paid"],
      "file": "by-project/payment-kit.md"
    },
    {
      "id": "ref-2026-01-23-003",
      "date": "2026-01-23",
      "title": "Final Freeze 架构下的 Quote 管理",
      "summary": "Quote 仅在 Submit 时创建，adjust-quantity 不保留 quote 数据",
      "topics": ["architecture", "payment"],
      "projects": ["payment-kit"],
      "keywords": ["quote", "final-freeze", "adjust-quantity"],
      "file": "by-topic/architecture.md"
    },
    {
      "id": "ref-2026-01-22-001",
      "date": "2026-01-22",
      "title": "动态定价的边界条件处理",
      "summary": "trialing 和 metered 场景需要特殊处理，当前周期无需支付时跳过定价计算",
      "topics": ["dynamic-pricing", "subscription"],
      "projects": ["payment-kit"],
      "keywords": ["trialing", "metered", "useDynamicPricing", "isRecurringWithoutCurrentPayment"],
      "file": "by-project/payment-kit.md"
    },
    {
      "id": "ref-2026-01-22-002",
      "date": "2026-01-22",
      "title": "Quote 生成的前置条件检查",
      "summary": "零数量项目不需要定价，应在 quote 生成前检查并跳过",
      "topics": ["quote", "validation"],
      "projects": ["payment-kit"],
      "keywords": ["quantity", "invoice-quote", "validation"],
      "file": "by-project/payment-kit.md"
    }
  ]
}
